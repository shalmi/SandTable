import time

lastX = 0
lastY = 0
squareSize = 2
sizeIncrementBy = 5
rotDeg = 0 #in degrees
degIncrementBy = 4
tableDiam = 400
tableRadius = tableDiam/2
screenSize = tableDiam+50
centerScreen = screenSize/2
endProgram = False
iterations = 45
state=0
xys = [(0,0)]
#gcode grabbed by sandify. 
#square # test = [(198.000,198.000),(203.159,196.981),(203.986,204.365),(194.384,204.899),(194.243,193.090),(208.245,193.441),(207.302,209.620),(188.968,207.986),(191.391,187.521),(213.960,190.830),(209.668,215.471),(182.988,210.101),(189.531,181.420),(220.172,189.229),(211.006,221.787),(176.577,211.172),(188.730,174.924),(226.746,188.702),(211.256,228.428),(169.878,211.142),(189.042,168.175),(233.533,189.298),(210.374,235.246),(163.039,209.973),(190.501,161.325),(240.385,191.047),(208.334,242.090),(156.213,207.642),(193.123,154.527),(247.146,193.960),(205.130,248.804),(149.555,204.147),(196.907,147.936),(253.662,198.032),(200.771,255.234),(143.221,199.505),(201.832,141.707),(259.776,203.237),(195.289,261.224),(137.365,193.748),(207.859,135.993),(265.338,209.532),(188.731,266.625),(132.134,186.931),(214.931,130.942),(270.201,216.854),(181.164,271.291),(127.674,179.124),(222.972,126.695),(274.225,225.124),(172.672,275.084),(124.119,170.415),(231.891,123.386),(277.280,234.246),(163.354,277.878),(121.594,160.908),(241.579,121.138),(279.245,244.107),(153.326,279.554),(120.214,150.723),(251.914,120.060),(280.015,254.583),(142.719,280.010),(120.078,139.993),(262.759,120.248),(279.497,265.532),(131.674,279.157),(121.270,128.862),(273.965,121.784),(277.613,276.805),(120.345,276.922),(123.860,117.488),(285.375,124.732),(274.304,288.239),(108.896,273.249),(127.898,106.035),(296.821,129.138),(269.529,299.668),(97.497,268.103),(133.416,94.675),(308.130,135.029),(263.265,310.915),(86.322,261.465),(140.427,83.585),(319.125,142.413),(255.509,321.803),(75.552,253.338),(148.924,72.944),(329.625,151.277),(246.279,332.152),(65.366,243.745),(158.877,62.932),(339.452,161.588),(235.613,341.783),(55.942,232.729),(170.240,53.726),(348.428,173.294),(223.571,350.519),(47.457,220.354),(182.943,45.502),(356.380,186.318),(210.230,358.189),(40.080,206.703),(196.898,38.428),(363.143,200.569),(195.689,364.629),(33.972,191.880),(211.995,32.661),(368.558,215.933),(180.067,369.684),(29.285,176.008),(228.108,28.352),(372.481,232.279),(163.498,373.213),(26.159,159.226),(245.093,25.637),(374.779,249.457),(146.137,375.085),(24.719,141.692),(262.789,24.636),(375.333,267.304),(128.150,375.188),(25.075,123.577),(281.021,25.456),(374.044,285.640),(109.721,373.424),(27.318,105.067),(299.599,28.183),(370.829,304.275),(91.044,369.717),(31.521,86.359),(318.324,32.884),(365.626,323.004),(72.323,364.009),(37.736,67.660),(336.988,39.608),(358.392,341.619),(53.771,356.264),(45.992,49.184),(355.374,48.377),(349.110,359.901),(35.606,346.470),(56.299,31.151),(373.262,59.194),(337.784,377.630),(18.051,334.635),(68.639,13.784),(390.428,72.038),(324.440,394.581),(1.329,320.794),(82.294,0.000),(82.974,0.000),(92.715,0.000),(400.000,85.022),(400.000,86.862),(400.000,108.934),(312.303,400.000),(309.130,400.000),(276.846,400.000),(0.000,309.681),(0.000,305.003),(0.000,264.218),(92.889,0.000),(99.240,0.000),(147.121,0.000),(400.000,95.408),(400.000,103.599),(400.000,157.404),(302.123,400.000),(291.929,400.000),(233.187,400.000),(0.000,299.703),(0.000,287.345),(0.000,224.511),(102.667,0.000),(117.350,0.000),(183.547,0.000),(400.000,104.989),(400.000,122.153),(400.000,191.079),(292.738,400.000),(272.937,400.000),(201.839,400.000),(0.000,290.513),(0.000,267.923),(0.000,195.145),(111.664,0.000),(137.193,0.000),(211.214,0.000),(400.000,113.792),(400.000,142.410),(400.000,217.281),(284.130,400.000),(252.276,400.000),(176.905,400.000),(0.000,282.101),(0.000,246.866),(0.000,171.314),(119.878,0.000),(158.636,0.000),(234.083,0.000),(400.000,121.805),(400.000,164.229),(400.000,239.310),(276.320,400.000),(230.090,400.000),(155.614,400.000),(0.000,274.500),(0.000,224.325),(0.000,150.669),(127.264,0.000),(181.523,0.000),(254.161,0.000),(400.000,128.970),(400.000,187.450),(400.000,258.890),(269.384,400.000),(206.547,400.000),(136.469,400.000),(0.000,267.802),(0.000,200.470),(0.000,131.905),(133.714,0.000),(205.676,0.000),(272.593,0.000),(400.000,135.159),(400.000,211.890),(400.000,277.035),(263.471,400.000),(181.832,400.000),(118.572,400.000),(0.000,262.181),(0.000,175.494),(0.000,114.219),(139.022,0.000),(230.901,0.000),(290.101,0.000),(400.000,140.133),(400.000,237.349),(400.000,294.395),(258.858,400.000),(156.152,400.000),(101.331,400.000),(0.000,257.958),(0.000,149.607),(0.000,97.070),(142.820,0.000),(256.981,0.000),(307.182,0.000),(400.000,143.465),(400.000,263.609),(400.000,311.431),(256.039,400.000),(129.728,400.000),(84.318,400.000),(0.000,255.709),(0.000,123.034),(0.000,80.059),(144.434,0.000),(283.688,0.000),(324.210,0.000),(400.000,144.366),(400.000,290.434),(400.000,328.496),(255.944,400.000),(102.800,400.000),(67.197,400.000),(0.000,256.531),(0.000,96.018),(0.000,62.865),(142.559,0.000),(310.776,0.000),(341.495,0.000),(400.000,141.274),(400.000,317.577),(400.000,345.889),(260.456,400.000),(75.617,400.000),(49.680,400.000),(0.000,262.717),(0.000,68.812),(0.000,45.207),(134.380,0.000),(337.988,0.000),(359.312,0.000),(400.000,130.693),(400.000,344.779),(400.000,363.881),(273.970,400.000),(48.442,400.000),(31.496,400.000),(0.000,279.868),(0.000,41.681),(0.000,26.815),(112.640,0.000),(365.058,0.000),(377.929,0.000),(400.000,103.040),(400.000,371.772),(400.000,382.741),(309.430,400.000),(21.545,400.000),(12.376,400.000),(0.000,325.953),(0.000,14.896),(0.000,7.416),(51.541,0.000),(391.714,0.000),(397.626,0.000),(400.000,19.659),(400.000,398.280),(400.000,398.280),(400.000,400.000),(400.000,400.000),(389.415,400.000),(389.415,400.000),(333.099,400.000),(333.099,400.000),(220.466,400.000),(220.466,400.000),(0.000,400.000),(0.000,400.000),(0.000,0.000),(0.000,0.000),(400.000,0.000),(400.000,0.000),(400.000,400.000),(400.000,400.000),(0.000,400.000),(0.000,400.000),(0.000,0.000),(0.000,0.000),(400.000,0.000),(400.000,0.000),(400.000,400.000),(400.000,400.000),(0.000,400.000),(0.000,400.000),(0.000,0.000),(0.000,0.000),(231.034,0.000),(231.034,0.000),(348.722,0.000),(348.722,0.000),(400.000,0.000),(400.000,0.000),(400.000,0.700),(400.000,0.700),(400.000,236.409),(400.000,236.409),(400.000,354.263),(400.000,354.263),(400.000,400.000),(400.000,400.000),(394.100,400.000),(394.100,400.000),(158.187,400.000),(158.187,400.000),(40.230,400.000),(40.230,400.000),(10.741,400.000),(10.741,400.000),(0.000,400.000),(0.000,400.000),(0.000,399.164),(0.000,399.164),(0.000,388.742),(0.000,0.528),(0.106,0.000),(16.770,0.000),(388.443,0.000),(400.000,2.588),(400.000,22.435),(400.000,379.951),(395.030,400.000),(371.749,400.000),(26.650,400.000),(0.000,392.748),(0.000,365.784),(0.000,31.803),(9.435,0.000),(40.328,0.000),(364.180,0.000),(400.000,11.517),(400.000,46.583),(400.000,361.072),(386.501,400.000),(347.020,400.000),(41.298,400.000),(0.000,384.620),(0.000,340.483),(0.000,43.057),(17.157,0.000),(66.189,0.000),(355.695,0.000),(400.000,18.831),(400.000,72.995),(400.000,354.879),(379.601,400.000),(320.068,400.000),(45.565,400.000),(0.000,378.142),(0.000,313.004),(0.000,45.688),(23.207,0.000),(94.185,0.000),(354.470,0.000),(400.000,24.443),(400.000,101.495),(400.000,354.875),(374.439,400.000),(291.077,400.000),(44.499,400.000),(0.000,373.442),(0.000,283.535),(0.000,43.675),(27.430,0.000),(124.119,0.000),(357.328,0.000),(400.000,28.170),(400.000,131.880),(400.000,358.493),(371.225,400.000),(260.255,400.000),(40.193,400.000),(0.000,370.764),(0.000,252.291),(0.000,38.741),(29.548,0.000),(155.770,0.000),(362.838,0.000),(400.000,29.701),(400.000,163.923),(400.000,364.538),(370.314,400.000),(227.835,400.000),(33.650,400.000),(0.000,370.507),(0.000,219.510),(0.000,31.731),(29.111,0.000),(188.895,0.000),(370.290,0.000),(400.000,28.526),(400.000,197.376),(400.000,372.407),(372.277,400.000),(194.072,400.000),(25.381,400.000),(0.000,373.314),(0.000,185.453),(0.000,23.079),(25.396,0.000),(223.229,0.000),(379.310,0.000),(400.000,23.832),(400.000,231.968),(400.000,381.786),(378.032,400.000),(159.240,400.000),(15.654,400.000),(0.000,380.223),(0.000,150.398),(0.000,13.010),(17.227,0.000),(258.487,0.000),(389.715,0.000),(400.000,14.281),(400.000,267.411),(400.000,392.522),(389.103,400.000),(123.631,400.000),(4.590,400.000),(0.000,392.975),(0.000,114.644),(0.000,1.621),(2.608,0.000),(294.368,0.000),(294.368,0.000),(365.919,0.000),(365.919,0.000),(383.806,0.000),(383.806,0.000),(392.750,0.000),(392.750,0.000),(397.222,0.000),(397.222,0.000),(399.458,0.000),(399.458,0.000),(400.000,0.000),(400.000,0.000),(400.000,0.448),(400.000,0.448),(400.000,61.038),(400.000,61.038),(400.000,303.399),(400.000,303.399),(400.000,372.451),(400.000,372.451),(400.000,389.713),(400.000,389.713),(400.000,398.345),(400.000,398.345),(400.000,400.000),(400.000,400.000),(395.690,400.000),(395.690,400.000),(334.063,400.000),(334.063,400.000),(87.556,400.000),(87.556,400.000),(21.061,400.000),(21.061,400.000),(4.437,400.000),(4.437,400.000),(0.000,400.000),(0.000,400.000),(0.000,391.691),(0.000,391.691),(0.000,329.053),(0.000,329.053),(0.000,78.501),(0.000,78.501),(0.000,14.619),(0.000,14.619),(0.000,0.000),(0.000,0.000),(12.444,0.000),(12.444,0.000),(76.066,0.000),(76.066,0.000),(330.557,0.000),(330.557,0.000),(391.771,0.000),(391.771,0.000),(400.000,0.000),(400.000,0.000),(400.000,16.714),(400.000,16.714),(400.000,81.294),(400.000,81.294),(400.000,339.615),(400.000,339.615),(400.000,398.106),(400.000,398.106),(400.000,400.000),(400.000,400.000),(378.883,400.000),(378.883,400.000),(313.373,400.000),(313.373,400.000),(51.334,400.000),(51.334,400.000),(0.000,400.000),(0.000,400.000),(0.000,307.938),(0.000,307.938),(0.000,42.294),(0.000,42.294),(0.000,0.000),(0.000,0.000),(97.599,0.000),(97.599,0.000),(366.728,0.000),(366.728,0.000),(400.000,0.000),(400.000,0.000),(400.000,103.233),(400.000,103.233),(400.000,375.729),(400.000,375.729),(400.000,400.000),(400.000,400.000),(291.036,400.000),(291.036,400.000),(15.298,400.000),(15.298,400.000),(0.000,400.000),(0.000,400.000),(0.000,285.213),(0.000,285.213),(0.000,6.357),(0.000,6.357),(0.000,0.000),(0.000,0.000),(120.701,0.000),(120.701,0.000),(400.000,0.000),(400.000,0.000),(400.000,400.000),(400.000,400.000),(0.000,400.000),(0.000,400.000),(0.000,0.000),(0.000,0.000),(400.000,0.000),(400.000,0.000),(400.000,400.000),(400.000,400.000),(0.000,400.000),(0.000,400.000),(0.000,0.000),(0.000,0.000),(400.000,0.000),(400.000,0.000),(400.000,400.000),(400.000,400.000),(0.000,400.000),(0.000,400.000),(0.000,0.000),(0.000,0.000),(400.000,0.000),(400.000,0.000),(400.000,400.000),(400.000,400.000),(0.000,400.000),(0.000,400.000),(0.000,0.000),(0.000,0.000),(400.000,0.000),(400.000,0.000),(400.000,400.000),(400.000,400.000),(0.000,400.000),(0.000,400.000),(0.000,0.000),(0.000,0.000),(400.000,0.000),(400.000,0.000),(400.000,400.000),(400.000,400.000),(0.000,400.000),(0.000,400.000),(0.000,0.000),(0.000,0.000),(400.000,0.000),(400.000,0.000),(400.000,400.000),(400.000,400.000),(0.000,400.000),(0.000,400.000),(0.000,96.832),(0.000,96.832),(0.000,0.000),(0.000,0.000),(5.716,0.000),(5.716,0.000),(310.293,0.000),(310.293,0.000),(400.000,0.000),(400.000,0.000),(400.000,14.420),(400.000,14.420),(400.000,317.407),(400.000,317.407),(400.000,400.000),(400.000,400.000),(376.718,400.000),(376.718,400.000),(75.494,400.000),(75.494,400.000),(0.000,400.000),(0.000,400.000),(0.000,367.700),(0.000,367.700),(0.000,68.414),(0.000,68.414),(0.000,0.000),(0.000,0.000),(41.470,0.000),(41.470,0.000),(338.643,0.000),(338.643,0.000),(400.000,0.000),(400.000,0.000),(400.000,50.787),(400.000,50.787),(400.000,345.673),(400.000,345.673),(400.000,400.000),(400.000,400.000),(339.753,400.000),(339.753,400.000),(47.329,400.000),(47.329,400.000),(0.000,400.000),(0.000,400.000),(0.000,330.155),(0.000,330.155),(0.000,40.366),(0.000,40.366),(0.000,0.000),(0.000,0.000),(79.578,0.000),(79.578,0.000),(366.557,0.000),(366.557,0.000),(400.000,0.000),(400.000,0.000),(400.000,4.724),(400.000,4.724),(400.000,89.440),(400.000,89.440),(400.000,373.437),(400.000,373.437),(400.000,400.000),(400.000,400.000),(388.814,400.000),(388.814,400.000),(300.573,400.000),(300.573,400.000),(19.732,400.000),(19.732,400.000),(0.000,400.000),(0.000,400.000),(0.000,382.208),(0.000,382.208),(0.000,290.466),(0.000,290.466),(0.000,12.952),(0.000,12.952),(0.000,0.000),(0.000,0.000),(24.540,0.000),(24.540,0.000),(119.756,0.000),(119.756,0.000),(393.772,0.000),(393.772,0.000),(400.000,0.000),(400.000,0.000),(400.000,31.426),(400.000,31.426),(400.000,130.089),(400.000,130.089),(400.000,400.000),(400.000,400.000),(259.474,400.000),(259.474,400.000),(0.000,400.000),(0.000,400.000),(0.000,248.936),(0.000,248.936),(0.000,0.000),(0.000,0.000),(161.696,0.000),(161.696,0.000),(400.000,0.000),(400.000,0.000),(400.000,172.418),(400.000,172.418),(400.000,400.000),(400.000,400.000),(216.776,400.000),(216.776,400.000),(0.000,400.000),(0.000,400.000),(0.000,205.891),(0.000,205.891),(0.000,0.000),(0.000,0.000),(205.066,0.000),(205.066,0.000),(400.000,0.000),(400.000,0.000),(400.000,216.091),(400.000,216.091),(400.000,400.000),(400.000,400.000),(172.823,400.000),(172.823,400.000),(0.000,400.000),(0.000,400.000),(0.000,161.681),(0.000,161.681),(0.000,0.000),(0.000,0.000),(249.512,0.000),(249.512,0.000),(400.000,0.000),(400.000,0.000),(400.000,260.748),(400.000,260.748),(400.000,400.000),(400.000,400.000),(127.978,400.000),(127.978,400.000),(0.000,400.000),(0.000,400.000),(0.000,116.671),(0.000,116.671),(0.000,15.756),(0.000,15.756),(0.000,0.000),(0.000,0.000),(3.584,0.000),(3.584,0.000),(294.662,0.000),(294.662,0.000),(392.552,0.000),(392.552,0.000),(400.000,0.000),(400.000,0.000),(400.000,9.511),(400.000,9.511),(400.000,306.014),(400.000,306.014),(400.000,400.000),(400.000,400.000),(384.422,400.000),(384.422,400.000),(82.620,400.000),(82.620,400.000),(0.000,400.000),(0.000,400.000),(0.000,378.219),(0.000,378.219),(0.000,71.246),(0.000,71.246),(0.000,0.000),(0.000,0.000),(28.118,0.000),(28.118,0.000),(340.129,0.000),(340.129,0.000),(400.000,0.000),(400.000,0.000),(400.000,34.585),(400.000,34.585),(400.000,351.500),(400.000,351.500),(400.000,400.000),(400.000,400.000),(358.818,400.000),(358.818,400.000),(37.141,400.000),(37.141,400.000),(0.000,400.000),(0.000,400.000),(0.000,352.097),(0.000,352.097),(0.000,25.800),(0.000,25.800),(0.000,0.000),(0.000,0.000),(54.747,0.000),(54.747,0.000),(385.517,0.000),(385.517,0.000),(400.000,0.000),(400.000,0.000),(400.000,61.710),(400.000,61.710),(400.000,396.804),(400.000,396.804),(400.000,400.000),(400.000,400.000),(331.211,400.000),(331.211,400.000),(0.000,400.000),(0.000,400.000),(0.000,0.000),(0.000,0.000),(400.000,0.000),(400.000,0.000),(400.000,400.000),(400.000,400.000),(0.000,400.000),(0.000,400.000),(0.000,0.000),(0.000,0.000),(400.000,0.000),(400.000,0.000),(400.000,400.000),(400.000,400.000),(0.000,400.000),(0.000,400.000),(0.000,0.000),(0.000,0.000),(400.000,0.000),(400.000,0.000),(400.000,400.000),(400.000,400.000),(0.000,400.000),(0.000,400.000),(0.000,0.000),(0.000,0.000),(400.000,0.000),(400.000,0.000),(400.000,400.000),(400.000,400.000),(0.000,400.000),(0.000,400.000),(0.000,0.000),(0.000,0.000),(400.000,0.000),(400.000,0.000),(400.000,400.000),(400.000,400.000),(0.000,400.000),(0.000,400.000),(0.000,0.000),(0.000,0.000),(400.000,0.000),(400.000,0.000),(400.000,400.000),(400.000,400.000),(0.000,400.000),(0.000,400.000),(0.000,0.000),(0.000,0.000),(400.000,0.000),(400.000,0.000),(400.000,400.000),(400.000,400.000),(0.000,400.000),(0.000,400.000),(0.000,0.000),(0.000,0.000),(400.000,0.000),(400.000,0.000),(400.000,400.000),(400.000,400.000),(0.000,400.000),(0.000,400.000),(0.000,0.000),(0.000,0.000),(400.000,0.000),(400.000,0.000),(400.000,360.118),(400.000,360.118),(400.000,400.000),(400.000,400.000),(398.033,400.000),(398.033,400.000),(31.279,400.000),(31.279,400.000),(0.000,400.000),(0.000,400.000),(0.000,386.472),(0.000,386.472),(0.000,22.719),(0.000,22.719),(0.000,0.000),(0.000,0.000),(25.250,0.000),(25.250,0.000),(385.794,0.000),(385.794,0.000),(400.000,0.000),(400.000,0.000),(400.000,37.130),(400.000,37.130),(400.000,394.254),(400.000,394.254),(400.000,400.000),(400.000,400.000),(350.840,400.000),(350.840,400.000),(0.000,400.000),(0.000,400.000),(0.000,338.665),(0.000,338.665),(0.000,0.000),(0.000,0.000),(73.649,0.000),(73.649,0.000),(400.000,0.000),(400.000,0.000),(400.000,86.097),(400.000,86.097),(400.000,400.000),(400.000,400.000),(301.328,400.000),(301.328,400.000),(0.000,400.000),(0.000,400.000),(0.000,288.632),(0.000,288.632),(0.000,0.000),(0.000,0.000),(124.179,0.000),(124.179,0.000),(400.000,0.000),(400.000,0.000),(400.000,137.098),(400.000,137.098),(400.000,400.000),(400.000,400.000),(249.881,400.000),(249.881,400.000),(0.000,400.000),(0.000,400.000),(0.000,236.765),(0.000,236.765),(0.000,0.000),(0.000,0.000),(176.440,0.000),(176.440,0.000),(400.000,0.000),(400.000,0.000),(400.000,189.728),(400.000,189.728),(400.000,400.000),(400.000,400.000),(196.910,400.000),(196.910,400.000),(0.000,400.000),(0.000,400.000),(0.000,183.479),(0.000,183.479),(0.000,0.000),(0.000,0.000),(230.013,0.000),(230.013,0.000),(400.000,0.000),(400.000,0.000),(400.000,243.559),(400.000,243.559),(400.000,400.000),(400.000,400.000),(142.847,400.000),(142.847,400.000),(0.000,400.000),(0.000,400.000),(0.000,129.213),(0.000,129.213),(0.000,0.000),(0.000,0.000),(284.454,0.000),(284.454,0.000),(400.000,0.000),(400.000,0.000),(400.000,298.147),(400.000,298.147),(400.000,400.000),(400.000,400.000),(88.142,400.000),(88.142,400.000),(0.000,400.000),(0.000,400.000),(0.000,74.419),(0.000,74.419),(0.000,0.000),(0.000,0.000),(339.307,0.000),(339.307,0.000),(400.000,0.000),(400.000,0.000),(400.000,353.030),(400.000,353.030),(400.000,400.000),(400.000,400.000),(33.259,400.000),(33.259,400.000),(0.000,400.000),(0.000,400.000),(0.000,19.566),(0.000,19.566),(0.000,0.000),(0.000,0.000),(5.606,0.000),(5.606,0.000),(394.101,0.000),(394.101,0.000),(400.000,0.000),(400.000,0.000),(400.000,13.814),(400.000,13.814),(400.000,400.000),(400.000,400.000),(0.000,400.000),(0.000,400.000),(0.000,0.000),(0.000,0.000),(400.000,0.000)]
#flower # test = [(250.000, 250.000),(250.515, 253.739),(250.675, 257.509),(250.479, 261.278),(249.929, 265.011),(249.030, 268.676),(247.790, 272.240),(246.219, 275.672),(244.332, 278.940),(242.146, 282.016),(239.680, 284.872),(236.955, 287.483),(233.997, 289.826),(230.831, 291.880),(227.485, 293.627),(223.990, 295.050),(223.476, 291.312),(223.315, 287.541),(223.511, 283.772),(224.061, 280.039),(224.960, 276.374),(226.200, 272.810),(227.771, 269.378),(229.658, 266.110),(231.844, 263.034),(234.311, 260.178),(237.035, 257.567),(239.994, 255.224),(243.160, 253.170),(246.505, 251.424),(250.000, 250.000),(246.505, 248.576),(243.160, 246.830),(239.994, 244.776),(237.035, 242.433),(234.311, 239.822),(231.844, 236.966),(229.658, 233.890),(227.771, 230.622),(226.200, 227.190),(224.960, 223.626),(224.061, 219.961),(223.511, 216.228),(223.315, 212.459),(223.476, 208.688),(223.990, 204.950),(227.485, 206.373),(230.831, 208.120),(233.997, 210.174),(236.955, 212.517),(239.680, 215.128),(242.146, 217.984),(244.332, 221.060),(246.219, 224.328),(247.790, 227.760),(249.030, 231.324),(249.929, 234.989),(250.479, 238.722),(250.675, 242.491),(250.515, 246.261),(250.000, 250.000),(252.980, 247.685),(256.165, 245.661),(259.527, 243.946),(263.035, 242.556),(266.659, 241.502),(270.366, 240.794),(274.123, 240.438),(277.897, 240.438),(281.654, 240.794),(285.360, 241.502),(288.984, 242.556),(292.492, 243.946),(295.854, 245.661),(299.039, 247.685),(302.019, 250.000),(299.039, 252.315),(295.854, 254.339),(292.492, 256.054),(288.984, 257.444),(285.360, 258.498),(281.654, 259.206),(277.897, 259.562),(274.123, 259.562),(270.366, 259.206),(266.659, 258.498),(263.035, 257.444),(259.527, 256.054),(256.165, 254.339),(252.980, 252.315),(250.000, 250.000)]
test = []
def setup():
    size(screenSize*2, screenSize)
    # colorMode(HSB, width, 100, width)
    noStroke()
    background(0)
    
    global test
    test = importGcode("test2.gcode") #starTest.gcode #simpleSquareThing

def draw():
    global state
    if(state==0):
        drawTable()
        state+=1
    elif(state==1):
        global squareSize
        global rotDeg
        global iterations
        # line (100,100,200,200)
        # pushMatrix()
        translate(centerScreen,centerScreen) #Go to Center of Screen
        drawBrokenSquare(squareSize)
        # drawBrokenSquare(65)
        # popMatrix()
        squareSize+=sizeIncrementBy
        rotDeg += degIncrementBy
        # time.sleep(.2)
        iterations-=1
        if(iterations==0):
            state+=1
            iterations = 0
            print(xys)
    elif(state == 2):
        translate(centerScreen*2,0)
        drawTable()
        state+=1
    elif(state ==3):
        if( (test[iterations][0] == 9999) or (test[iterations-1][0] == 9999) ):
            print("HELLOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO")
            # iterations+=1
            pass
        else:
            translate(centerScreen*2+25,25)
            # translate(centerScreen*3,centerScreen)
            # line(xys[iterations][0],xys[iterations][1],xys[iterations+1][0],xys[iterations+1][1])
            line(test[iterations][0],test[iterations][1],test[iterations+1][0],test[iterations+1][1])
            # iterations+=1
            # if iterations+1>=len(xys):
        iterations +=1
        if iterations+1>=len(test):
            state+=1
        # time.sleep(.3)

def importGcode(fileName):
    f = open(fileName, 'r')
    list = []
    for line in f:
        parts = line.split()
        if len(parts) == 3:
            if parts[0] == "G01":
                x = float(parts[1][1:])
                y = float(parts[2][1:])
                
                # print(parts[1][1:],parts[2][1:])
                list.append((x,y))
            elif parts[0] == "G0":
                list.append( (9999,9999) )
    # print(list)
    return list

def drawTable():
    stroke(255)
    noFill()
    ellipse(centerScreen,centerScreen,tableDiam,tableDiam)
def RotatePoint(x,y,deg):
    theta = radians(deg)
    newX = x*cos(theta)-y*sin(theta)
    newY = x*sin(theta)+y*cos(theta)
    return newX,newY

def drawBrokenSquare(sideLength):
    global lastX
    global lastY
    global endProgram
    cSize = 5
    outOfBoundsCount=0
    xCoords = (1,1,-1,-1)
    yCoords = (1,-1,-1,1)
    # stroke(255) #lets go white
    stroke(204, 102, 0) #orange you glad
    for i in range(4):
        # print(lastX,lastY,xCoords[i]*sideLength,yCoords[i]*sideLength)
        newX = xCoords[i]*sideLength
        newY = yCoords[i]*sideLength
        newX, newY = RotatePoint(newX,newY,rotDeg)
        
        # #if outside circle
        # r = sqrt(newX**2+newY**2)
        # if r > tableRadius:
        #     # endProgram = True
        #     # theta = atan(newY/newX)
        #     outOfBoundsCount+=1
        #     if outOfBoundsCount==4:
        #         endProgram=True
        
        if i==3:
            newY+=sizeIncrementBy
        line(lastX,lastY,newX,newY)
        xys.append((newX,newY))
        # ellipse(newX,newY,cSize,cSize) #draw each Point
        lastX = newX
        lastY = newY
        # time.sleep(1)

        
